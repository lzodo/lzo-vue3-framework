import{g as m,u,a as f}from"./type-Ci_wKV26.js";import{formColumnList as p}from"./data-qutiksuu.js";import{_ as h,r,o as d,c as y,f as l,w as s,h as n,l as _,B as I,d as g,n as k}from"./main-QT9KUytk.js";import"./index-gHNT2BBc.js";const b={data(){return{ruleForm:{},dataId:""}},props:{id:{type:[Number,String],default:""},isOnlyView:{type:Boolean,default:!1},isBackPage:{type:Boolean,default:!1}},computed:{formColumn(){return[...p]}},created(){this.dataId=this.id,this.isOnlyViewInner=this.isOnlyView,this.dataId||(this.dataId=this.$route.query.id,this.isOnlyViewInner=!!this.$route.query.isOnlyView),this.dataId&&this.getDataDetail()},methods:{async getDataDetail(){let e=await m(this.dataId);if(e.code==200){let a=e.data;this.ruleForm=Object.assign({},a),this.detailInit(a)}},detailInit(e){},async submitHandler(){let e=this.$refs.profrom.submit();e&&(this.dataId?this.editHeadler(e):this.addHeadler(e))},async editHeadler(e){(await u(e)).code==200&&(this.$message({message:"修改成功",type:"success"}),this.closeBack())},async addHeadler(e){(await f(e)).code==200&&(this.$message({message:"添加成功",type:"success"}),this.closeBack())},closeBack(){this.$emit("close")}}},B={class:"dialog-footer-center"};function w(e,a,C,V,i,t){const o=r("pro-button"),c=r("pro-from");return d(),y("div",{class:k(["form-page",{"child-page":!1}])},[l(c,{disabledForm:e.isOnlyViewInner,ref:"profrom",ruleFormData:i.ruleForm,data:t.formColumn,dataId:i.dataId,dictData:["sys_normal_disable"],labelWidth:100,blockList:[],privateEnmu:[]},{default:s(()=>[g("div",B,[l(o,{onClick:t.closeBack},{default:s(()=>[n("取消")]),_:1},8,["onClick"]),e.isOnlyViewInner?I("",!0):(d(),_(o,{key:0,type:"submit",onClick:t.submitHandler},{default:s(()=>[n("确认")]),_:1},8,["onClick"]))])]),_:1},8,["disabledForm","ruleFormData","data","dataId"])])}const v=h(b,[["render",w],["__scopeId","data-v-22e14803"]]);export{v as default};
