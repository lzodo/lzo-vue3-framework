import{h as _}from"./headerFromTableMixin-pD1Ro-xP.js";import{q as D,s as v,v as w,x as O,y as I,_ as k,r as d,o,l as m,w as c,z as C,n as f,k as j,c as u,A as x,F as b,m as h,f as E,B as A}from"./main-QT9KUytk.js";import"./index-gHNT2BBc.js";const s={fill:[{required:!0,message:"请输入",trigger:"blur"}],select:[{required:!0,message:"请选择",trigger:"change"}],upload:[{required:!0,message:"请上传文件",trigger:"change"}],idNumber:[{validator:(r,e,l)=>{D(e)||!e?l():l(new Error("请输入有效身份证"))},trigger:"blur"}],phone:[{validator:(r,e,l)=>{v(e)||!e?l():l(new Error("手机号格式错误，请重新输入"))},trigger:"blur"}],mobilePhone:[{validator:(r,e,l)=>{e&&!w(e)?l(new Error("电话格式错误")):l()},trigger:"blur"}],bank:[{validator:(r,e,l)=>{l()}}],email:[{validator:(r,e,l)=>{O(e)||!e?l():l(new Error("邮箱格式错误，请重新输入"))},trigger:"blur"}],onlyNumber:[{validator:(r,e,l)=>{I(r,e,l)},trigger:"blur"}]},N=(r,e,l=[])=>{let a=r[e.ruleFielId]||[];return["fill","select",...l].indexOf(e.ruleFielId)>-1&&(a=a.map(t=>({...t,message:`${t.message||""}${e.label||""}`}))),a},B={data(){return{rules:{fill:s.fill,onlyNumber:[...s.fill,...s.onlyNumber],select:s.select,phone:[...s.fill,...s.phone],onlyphone:s.phone},gDictMap:{}}},mixins:[_],props:{ruleFormData:{type:Object,default:()=>({})},data:{type:Array,default:()=>[]},dataId:{type:[String,Number],default:""},labelWidth:{type:Number,default:60},blockLine:{type:Boolean,default:!0},dictData:{type:Array,default:()=>[]},apiData:{type:Array,default:()=>[]},blockList:{type:Array,default:()=>[]},disabledForm:{type:Boolean,default:!1},page:{type:String},isEdit:{type:Boolean,default:!1},privateEnmu:{type:Array,default:()=>[]},otherObj:{type:Object,default:()=>{}}},computed:{thisObj(){return this},ruleForm(){return this.ruleFormData}},methods:{checkRules:N,inputFocus(r){this.$emit(r)},submit(){let r=!1;return this.$refs.ruleFormRef.validate(async e=>{e&&(r={...this.ruleForm})}),r},async initDict(){},uploadFiles(r,e,l,a){this.$emit("uploadFiles",r,e,l,a)},deleteFile(r,e,l,a){this.$emit("deleteFile",r,e,l,a)},selectChange(r,e,l,a,n){this.$emit("selectChange",r,e,l,a,n)},isLoad(r){let e=!0;return r&&(r.value==null?e=this.ruleForm[r.prop]:r.resolve?e=this.ruleForm[r.prop]!=r.value:e=this.ruleForm[r.prop]==r.value),e}},created(){this.initDict(),this.initApiData()},setup(r,e){const{proxy:l}=j();return{...r.dictData.length?l.useDict([...r.dictData]):{}}}},M={key:0},S={key:1};function V(r,e,l,a,n,t){const p=d("gFormItem"),g=d("el-form-item"),F=d("el-form");return o(),m(F,{onSubmit:e[0]||(e[0]=C(()=>{},["prevent"])),class:f(["pro-from",{inline:!l.blockLine}]),ref:"ruleFormRef",disabled:l.disabledForm,model:t.ruleForm,"label-width":l.labelWidth+"px"},{default:c(()=>[(o(!0),u(b,null,x(l.data||[],(i,y)=>(o(),u(b,null,[t.isLoad(i.delayLoad)?(o(),m(g,{class:f(["inline-item",{block:l.blockList.includes(i.fielId)||i.block}]),key:`${i.label}-${y}`,label:i.label,prop:i.fielId,rules:t.checkRules(n.rules,i),"label-width":i.hideLabel?"0px":""},{default:c(()=>[i.type=="middleInster"?(o(),u("div",M,[h(r.$slots,"middleInster",{scope:t.ruleForm},void 0,!0)])):(o(),u("div",S,[E(p,{isOnlyView:l.disabledForm||i.isOnlyView||!!(l.isEdit&&i.isEditOnlyView),itemData:i,formObj:t.ruleForm,thisObj:t.thisObj,onFocus:t.inputFocus,onUploadFiles:t.uploadFiles,onDeleteFile:t.deleteFile,onSelectChange:t.selectChange},null,8,["isOnlyView","itemData","formObj","thisObj","onFocus","onUploadFiles","onDeleteFile","onSelectChange"])]))]),_:2},1032,["label","prop","rules","label-width","class"])):A("",!0)],64))),256)),h(r.$slots,"default",{},void 0,!0)]),_:3},8,["disabled","class","model","label-width"])}const z=k(B,[["render",V],["__scopeId","data-v-c4c9e4c8"]]);export{z as default};
