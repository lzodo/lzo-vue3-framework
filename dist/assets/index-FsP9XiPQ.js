import{X as x,j as _,R as ce,Y as be,r as u,U as L,o as f,c as $,V as C,W as Q,e as o,f as e,w as a,J as i,F as j,l as g,A,h as y,C as J,t as O,d as W,S as Ve,k as _e}from"./main-QT9KUytk.js";import"./index-gHNT2BBc.js";function Ce(c){return x({url:"/system/post/list",method:"get",params:c})}function ge(c){return x({url:"/system/post/"+c,method:"get"})}function ve(c){return x({url:"/system/post",method:"post",data:c})}function we(c){return x({url:"/system/post",method:"put",data:c})}function he(c){return x({url:"/system/post/"+c,method:"delete"})}const Ke={class:"app-container"},xe={class:"dialog-footer"},Ue=Ve({name:"Post"}),Ne=Object.assign(Ue,{setup(c){const{proxy:V}=_e(),{sys_normal_disable:S}=V.useDict("sys_normal_disable"),q=_([]),v=_(!1),N=_(!0),U=_(!0),P=_([]),T=_(!0),F=_(!0),D=_(0),I=_(""),X=ce({form:{},queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}),{queryParams:n,form:r,rules:Y}=be(X);function h(){N.value=!0,Ce(n.value).then(m=>{q.value=m.rows,D.value=m.total,N.value=!1})}function G(){v.value=!1,R()}function R(){r.value={postId:void 0,postCode:void 0,postName:void 0,postSort:0,status:"0",remark:void 0},V.resetForm("postRef")}function s(){n.value.pageNum=1,h()}function H(){V.resetForm("queryRef"),s()}function M(m){P.value=m.map(t=>t.postId),T.value=m.length!=1,F.value=!m.length}function Z(){R(),v.value=!0,I.value="添加岗位"}function B(m){R();const t=m.postId||P.value;ge(t).then(p=>{r.value=p.data,v.value=!0,I.value="修改岗位"})}function ee(){V.$refs.postRef.validate(m=>{m&&(r.value.postId!=null?we(r.value).then(t=>{V.$modal.msgSuccess("修改成功"),v.value=!1,h()}):ve(r.value).then(t=>{V.$modal.msgSuccess("新增成功"),v.value=!1,h()}))})}function E(m){const t=m.postId||P.value;V.$modal.confirm('是否确认删除岗位编号为"'+t+'"的数据项？').then(function(){return he(t)}).then(()=>{h(),V.$modal.msgSuccess("删除成功")}).catch(()=>{})}function le(){V.download("system/post/export",{...n.value},`post_${new Date().getTime()}.xlsx`)}return h(),(m,t)=>{const p=u("el-input"),d=u("el-form-item"),oe=u("el-option"),te=u("el-select"),b=u("el-button"),z=u("el-form"),k=u("el-col"),ae=u("right-toolbar"),ne=u("el-row"),w=u("el-table-column"),de=u("dict-tag"),pe=u("el-table"),se=u("pagination"),ue=u("el-input-number"),re=u("el-radio"),ie=u("el-radio-group"),me=u("el-dialog"),K=L("hasPermi"),fe=L("loading");return f(),$("div",Ke,[C(e(z,{model:o(n),ref:"queryRef",inline:!0},{default:a(()=>[e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[0]||(t[0]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[1]||(t[1]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[2]||(t[2]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[3]||(t[3]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[4]||(t[4]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[5]||(t[5]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[6]||(t[6]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[7]||(t[7]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[8]||(t[8]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[9]||(t[9]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[10]||(t[10]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[11]||(t[11]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[12]||(t[12]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[13]||(t[13]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(n).postCode,"onUpdate:modelValue":t[14]||(t[14]=l=>o(n).postCode=l),placeholder:"请输入岗位编码",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"岗位名称",prop:"postName"},{default:a(()=>[e(p,{modelValue:o(n).postName,"onUpdate:modelValue":t[15]||(t[15]=l=>o(n).postName=l),placeholder:"请输入岗位名称",clearable:"",style:{width:"200px"},onKeyup:i(s,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,{label:"状态",prop:"status"},{default:a(()=>[e(te,{modelValue:o(n).status,"onUpdate:modelValue":t[16]||(t[16]=l=>o(n).status=l),placeholder:"岗位状态",clearable:"",style:{width:"200px"}},{default:a(()=>[(f(!0),$(j,null,A(o(S),l=>(f(),g(oe,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(b,{type:"primary",icon:"Search",onClick:s},{default:a(()=>[y("搜索")]),_:1}),e(b,{icon:"Refresh",onClick:H},{default:a(()=>[y("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[Q,o(U)]]),e(ne,{gutter:10,class:"mb8"},{default:a(()=>[e(k,{span:1.5},{default:a(()=>[C((f(),g(b,{type:"primary",plain:"",icon:"Plus",onClick:Z},{default:a(()=>[y("新增")]),_:1})),[[K,["system:post:add"]]])]),_:1}),e(k,{span:1.5},{default:a(()=>[C((f(),g(b,{type:"success",plain:"",icon:"Edit",disabled:o(T),onClick:B},{default:a(()=>[y("修改")]),_:1},8,["disabled"])),[[K,["system:post:edit"]]])]),_:1}),e(k,{span:1.5},{default:a(()=>[C((f(),g(b,{type:"danger",plain:"",icon:"Delete",disabled:o(F),onClick:E},{default:a(()=>[y("删除")]),_:1},8,["disabled"])),[[K,["system:post:remove"]]])]),_:1}),e(k,{span:1.5},{default:a(()=>[C((f(),g(b,{type:"warning",plain:"",icon:"Download",onClick:le},{default:a(()=>[y("导出")]),_:1})),[[K,["system:post:export"]]])]),_:1}),e(ae,{showSearch:o(U),"onUpdate:showSearch":t[17]||(t[17]=l=>J(U)?U.value=l:null),onQueryTable:h},null,8,["showSearch"])]),_:1}),C((f(),g(pe,{data:o(q),onSelectionChange:M},{default:a(()=>[e(w,{type:"selection",width:"55",align:"center"}),e(w,{label:"岗位编号",align:"center",prop:"postId"}),e(w,{label:"岗位编码",align:"center",prop:"postCode"}),e(w,{label:"岗位名称",align:"center",prop:"postName"}),e(w,{label:"岗位排序",align:"center",prop:"postSort"}),e(w,{label:"状态",align:"center",prop:"status"},{default:a(l=>[e(de,{options:o(S),value:l.row.status},null,8,["options","value"])]),_:1}),e(w,{label:"创建时间",align:"center",prop:"createTime",width:"180"},{default:a(l=>[W("span",null,O(m.parseTime(l.row.createTime)),1)]),_:1}),e(w,{label:"操作",width:"180",align:"center","class-name":"small-padding fixed-width"},{default:a(l=>[C((f(),g(b,{link:"",type:"primary",icon:"Edit",onClick:ye=>B(l.row)},{default:a(()=>[y("修改")]),_:2},1032,["onClick"])),[[K,["system:post:edit"]]]),C((f(),g(b,{link:"",type:"primary",icon:"Delete",onClick:ye=>E(l.row)},{default:a(()=>[y("删除")]),_:2},1032,["onClick"])),[[K,["system:post:remove"]]])]),_:1})]),_:1},8,["data"])),[[fe,o(N)]]),C(e(se,{total:o(D),page:o(n).pageNum,"onUpdate:page":t[18]||(t[18]=l=>o(n).pageNum=l),limit:o(n).pageSize,"onUpdate:limit":t[19]||(t[19]=l=>o(n).pageSize=l),onPagination:h},null,8,["total","page","limit"]),[[Q,o(D)>0]]),e(me,{title:o(I),modelValue:o(v),"onUpdate:modelValue":t[25]||(t[25]=l=>J(v)?v.value=l:null),width:"500px","append-to-body":""},{footer:a(()=>[W("div",xe,[e(b,{type:"primary",onClick:ee},{default:a(()=>[y("确 定")]),_:1}),e(b,{onClick:G},{default:a(()=>[y("取 消")]),_:1})])]),default:a(()=>[e(z,{ref:"postRef",model:o(r),rules:o(Y),"label-width":"80px"},{default:a(()=>[e(d,{label:"岗位名称",prop:"postName"},{default:a(()=>[e(p,{modelValue:o(r).postName,"onUpdate:modelValue":t[20]||(t[20]=l=>o(r).postName=l),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1}),e(d,{label:"岗位编码",prop:"postCode"},{default:a(()=>[e(p,{modelValue:o(r).postCode,"onUpdate:modelValue":t[21]||(t[21]=l=>o(r).postCode=l),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1}),e(d,{label:"岗位顺序",prop:"postSort"},{default:a(()=>[e(ue,{modelValue:o(r).postSort,"onUpdate:modelValue":t[22]||(t[22]=l=>o(r).postSort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),e(d,{label:"岗位状态",prop:"status"},{default:a(()=>[e(ie,{modelValue:o(r).status,"onUpdate:modelValue":t[23]||(t[23]=l=>o(r).status=l)},{default:a(()=>[(f(!0),$(j,null,A(o(S),l=>(f(),g(re,{key:l.value,label:l.value},{default:a(()=>[y(O(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"备注",prop:"remark"},{default:a(()=>[e(p,{modelValue:o(r).remark,"onUpdate:modelValue":t[24]||(t[24]=l=>o(r).remark=l),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{Ne as default};
